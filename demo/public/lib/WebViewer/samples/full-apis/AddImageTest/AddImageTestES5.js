function _asyncToGenerator(e){return function(){var c=e.apply(this,arguments);return new Promise(function(o,i){return function t(e,r){try{var n=c[e](r),a=n.value}catch(e){return void i(e)}if(!n.done)return Promise.resolve(a).then(function(e){t("next",e)},function(e){t("throw",e)});o(a)}("next")})}}!function(e){"use strict";var f,s=Object.prototype.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},a=t.iterator||"@@iterator",r=t.toStringTag||"@@toStringTag",n="object"==typeof module,o=e.regeneratorRuntime;if(o)n&&(module.exports=o);else{(o=e.regeneratorRuntime=n?module.exports:{}).wrap=c;var h="suspendedStart",p="suspendedYield",g="executing",m="completed",x={},i=l.prototype=d.prototype;u.prototype=i.constructor=l,l.constructor=u,l[r]=u.displayName="GeneratorFunction",o.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===u||"GeneratorFunction"===(t.displayName||t.name))},o.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,r in e||(e[r]="GeneratorFunction")),e.prototype=Object.create(i),e},o.awrap=function(e){return new w(e)},v(L.prototype),o.async=function(e,t,r,n){var a=new L(c(e,t,r,n));return o.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},v(i),i[a]=function(){return this},i[r]="Generator",i.toString=function(){return"[object Generator]"},o.keys=function(r){var n=[];for(var e in r)n.push(e);return n.reverse(),function e(){for(;n.length;){var t=n.pop();if(t in r)return e.value=t,e.done=!1,e}return e.done=!0,e}},o.values=P,b.prototype={constructor:b,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=f,this.done=!1,this.delegate=null,this.tryEntries.forEach(F),!e)for(var t in this)"t"===t.charAt(0)&&s.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=f)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(e,t){return o.type="throw",o.arg=r,n.next=e,!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var a=this.tryEntries[t],o=a.completion;if("root"===a.tryLoc)return e("end");if(a.tryLoc<=this.prev){var i=s.call(a,"catchLoc"),c=s.call(a,"finallyLoc");if(i&&c){if(this.prev<a.catchLoc)return e(a.catchLoc,!0);if(this.prev<a.finallyLoc)return e(a.finallyLoc)}else if(i){if(this.prev<a.catchLoc)return e(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return e(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?this.next=a.finallyLoc:this.complete(o),x},complete:function(e,t){if("throw"===e.type)throw e.arg;"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=e.arg,this.next="end"):"normal"===e.type&&t&&(this.next=t)},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),F(r),x}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;F(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},x}}}function c(e,t,r,n){var i,c,s,u,a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),l=new b(n||[]);return o._invoke=(i=e,c=r,s=l,u=h,function(e,t){if(u===g)throw new Error("Generator is already running");if(u===m){if("throw"===e)throw t;return I()}for(;;){var r=s.delegate;if(r){if("return"===e||"throw"===e&&r.iterator[e]===f){s.delegate=null;var n=r.iterator.return;if(n){var a=y(n,r.iterator,t);if("throw"===a.type){e="throw",t=a.arg;continue}}if("return"===e)continue}var a=y(r.iterator[e],r.iterator,t);if("throw"===a.type){s.delegate=null,e="throw",t=a.arg;continue}e="next",t=f;var o=a.arg;if(!o.done)return u=p,o;s[r.resultName]=o.value,s.next=r.nextLoc,s.delegate=null}if("next"===e)s.sent=s._sent=t;else if("throw"===e){if(u===h)throw u=m,t;s.dispatchException(t)&&(e="next",t=f)}else"return"===e&&s.abrupt("return",t);u=g;var a=y(i,c,s);if("normal"===a.type){u=s.done?m:p;var o={value:a.arg,done:s.done};if(a.arg!==x)return o;s.delegate&&"next"===e&&(t=f)}else"throw"===a.type&&(u=m,e="throw",t=a.arg)}}),o}function y(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function d(){}function u(){}function l(){}function v(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function w(e){this.arg=e}function L(c){function s(e,t,r,n){var a=y(c[e],c,t);if("throw"!==a.type){var o=a.arg,i=o.value;return i instanceof w?Promise.resolve(i.arg).then(function(e){s("next",e,r,n)},function(e){s("throw",e,r,n)}):Promise.resolve(i).then(function(e){o.value=e,r(o)},n)}n(a.arg)}var t;"object"==typeof process&&process.domain&&(s=process.domain.bind(s)),this._invoke=function(r,n){function e(){return new Promise(function(e,t){s(r,n,e,t)})}return t=t?t.then(e,e):e()}}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function F(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function b(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function P(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(s.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=f,e.done=!0,e};return n.next=n}}return{next:I}}function I(){return{value:f,done:!0}}}("object"==typeof global?global:"object"==typeof window?window:"object"==typeof self?self:this),function(y){"use strict";y.runAddImageTest=function(){var e,x=y.PDFNet,t=(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r,n,a,o,i,c,s,u,l,f,h,p,g,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Beginning Test"),t="../TestFiles/",e.next=5,x.PDFDoc.create();case 5:return(r=e.sent).initSecurityHandler(),r.lock(),console.log("PDFNet and PDF document initialized and locked"),e.next=11,x.ElementBuilder.create();case 11:return n=e.sent,e.next=14,x.ElementWriter.create();case 14:return a=e.sent,e.next=17,x.Rect.init(0,0,612,794);case 17:return o=e.sent,e.next=20,r.pageCreate(o);case 20:return i=e.sent,a.beginOnPage(i,x.ElementWriter.WriteMode.e_overlay),e.next=24,x.Image.createFromURL(r,t+"peppers.jpg");case 24:return c=e.sent,e.next=27,x.Matrix2D.create(200,0,0,250,50,500);case 27:return s=e.sent,e.next=30,x.Matrix2D.createZeroMatrix();case 30:return u=e.sent,e.next=33,u.set(200,0,0,250,50,500);case 33:return e.next=35,n.createImageFromMatrix(c,u);case 35:return l=e.sent,a.writePlacedElement(l),e.next=39,x.Image.createFromURL(r,t+"butterfly.png");case 39:return c=e.sent,e.t0=x.Matrix2D,e.next=43,c.getImageWidth();case 43:return e.t1=e.sent,e.next=46,c.getImageHeight();case 46:return e.t2=e.sent,e.next=49,e.t0.create.call(e.t0,e.t1,0,0,e.t2,300,500);case 49:return s=e.sent,e.next=52,n.createImageFromMatrix(c,s);case 52:return l=e.sent,a.writePlacedElement(l),e.next=56,x.Image.createFromURL(r,t+"pdfnet.gif");case 56:return c=e.sent,e.t3=x.Matrix2D,e.next=60,c.getImageWidth();case 60:return e.t4=e.sent,e.next=63,c.getImageHeight();case 63:return e.t5=e.sent,e.next=66,e.t3.create.call(e.t3,e.t4,0,0,e.t5,50,350);case 66:return s=e.sent,e.next=69,n.createImageFromMatrix(c,s);case 69:return l=e.sent,a.writePlacedElement(l),e.next=73,x.Image.createFromURL(r,t+"grayscale.tif");case 73:return c=e.sent,e.t6=x.Matrix2D,e.next=77,c.getImageWidth();case 77:return e.t7=e.sent,e.next=80,c.getImageHeight();case 80:return e.t8=e.sent,e.next=83,e.t6.create.call(e.t6,e.t7,0,0,e.t8,10,50);case 83:return s=e.sent,e.next=86,n.createImageFromMatrix(c,s);case 86:return l=e.sent,a.writePlacedElement(l),a.end(),r.pagePushBack(i),e.next=92,r.pageCreate(o);case 92:return i=e.sent,a.beginOnPage(i,1,!0,!0),e.next=96,x.ObjSet.create();case 96:return f=e.sent,e.next=99,f.createArray();case 99:return h=e.sent,e.next=102,h.pushBackName("JBIG2");case 102:return e.next=104,h.pushBackName("Lossy");case 104:return e.next=106,x.Image.createFromURL(r,t+"multipage.tif",h);case 106:return c=e.sent,e.next=109,x.Matrix2D.create(612,0,0,794,0,0);case 109:return s=e.sent,e.next=112,n.createImageFromMatrix(c,s);case 112:return l=e.sent,a.writePlacedElement(l),a.end(),r.pagePushBack(i),e.next=118,r.pageCreate(o);case 118:return i=e.sent,a.beginOnPage(i,1,!0,!0),e.next=122,x.Image.createFromURL(r,t+"palm.jp2");case 122:return c=e.sent,e.t9=x.Matrix2D,e.next=126,c.getImageWidth();case 126:return e.t10=e.sent,e.next=129,c.getImageHeight();case 129:return e.t11=e.sent,e.next=132,e.t9.create.call(e.t9,e.t10,0,0,e.t11,96,80);case 132:return s=e.sent,e.next=135,n.createImageFromMatrix(c,s);case 135:return l=e.sent,a.writePlacedElement(l),e.next=139,x.Font.create(r,x.Font.StandardType1Font.e_times_roman);case 139:return p=e.sent,e.t12=a,e.next=143,n.createTextBeginWithFont(p,32);case 143:return e.t13=e.sent,e.t12.writeElement.call(e.t12,e.t13),e.next=147,n.createTextRun("JPEG2000 Sample",p,32);case 147:return l=e.sent,e.next=150,x.Matrix2D.create(1,0,0,1,190,30);case 150:return s=e.sent,l.setTextMatrix(s),a.writeElement(l),e.next=155,n.createTextEnd();case 155:return g=e.sent,a.writeElement(g),a.end(),r.pagePushBack(i),e.next=161,r.saveMemoryBuffer(x.SDFDoc.SaveOptions.e_linearized);case 161:m=e.sent,y.saveBufferAsPDFDoc(m,"addimage.pdf"),console.log("Done. Result saved as addimage.pdf"),e.next=169;break;case 166:e.prev=166,e.t14=e.catch(0),console.log(e.t14);case 169:case"end":return e.stop()}},e,void 0,[[0,166]])})),function(){return e.apply(this,arguments)});x.runWithCleanup(t,window.sampleL)}}(window);